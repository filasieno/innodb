@startuml InnoDB Dependencies
skinparam backgroundColor #FEFEFE
skinparam componentStyle uml2

' Components (using () syntax for components)
(univ.i) as univ #E1F5FE
(ut) as ut #16A34A
(os) as os #16A34A
(mach) as mach #EA580C
(sync) as sync_pkg #7C3AED
(mem) as mem #0D9488
(dyn) as dyn #DC2626
(page) as page #DC2626
(hash) as hash #DC2626
(data) as data_pkg #DC2626
(rem) as rem #DC2626
(buf) as buf #DB2777
(mtr) as mtr #DB2777
(fil) as fil #DB2777
(fsp) as fsp #DB2777
(log) as log #DB2777
(btr) as btr #312E81
(dict) as dict #312E81
(lock) as lock #312E81
(read) as read #312E81
(que) as que #312E81
(usr) as usr #312E81
(trx) as trx #7F1D1D
(srv) as srv #7F1D1D
(row) as row #1E1B4B
(api) as api #1E1B4B
(ddl) as ddl #1E1B4B
(ibuf) as ibuf #1E1B4B
(fut) as fut #1E1B4B
(eval) as eval #1E1B4B
(pars) as pars #1E1B4B
(thr) as thr #1E1B4B
(ha) as ha #1E1B4B

' Inverted Dependencies (arrows point from dependent to dependency)
ut --> univ
os --> univ
mach --> ut
sync_pkg --> ut
sync_pkg --> os
mem --> ut
mem --> sync_pkg
mem --> mach

dyn --> mem
page --> mem
hash --> mem
data_pkg --> mem
rem --> mem

buf --> hash
buf --> page
buf --> os
buf --> ut
mtr --> mem
mtr --> dyn
mtr --> buf
mtr --> sync_pkg
mtr --> page
mtr --> ut

fil --> mem
fsp --> mem
log --> mem

btr --> data_pkg
btr --> page
btr --> mtr

dict --> data_pkg
dict --> mem
dict --> rem
dict --> ut
dict --> hash
lock --> mem
read --> mem
que --> mem
usr --> mem

trx --> dict
trx --> lock
trx --> usr
trx --> que
trx --> mem
trx --> read

srv --> sync_pkg
srv --> os
srv --> que
srv --> trx

row --> data_pkg
row --> dict
row --> trx
row --> que
row --> mtr
row --> rem
row --> read
row --> btr

api --> mem
ddl --> mem
ibuf --> mem
fut --> mem
eval --> mem
pars --> mem
thr --> mem
ha --> mem

api --> srv

@enduml